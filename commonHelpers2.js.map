{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst messageOfInput = form.elements.message;\nconst emailOfInput = form.elements.email;\nconst localStorageKey = 'feedback-form-state';\n\nconst dataFromLocalStorage = localStorage.getItem(localStorageKey);\nif (dataFromLocalStorage) {\n  try {\n    const parsedData = JSON.parse(dataFromLocalStorage);\n    if (parsedData && typeof parsedData === 'object') {\n      messageOfInput.value = parsedData.message ?? '';\n      emailOfInput.value = parsedData.email ?? '';\n    }\n  } catch (error) {\n    console.error('Error parsing data from local storage:', error);\n  }\n}\n\nform.addEventListener('input', saveData);\nform.addEventListener('submit', uploadData);\n\nfunction saveData() {\n  const dataOfInput = {\n    email: emailOfInput.value,\n    message: messageOfInput.value,\n  };\n  const trimedDataOfInput = trimValues(dataOfInput);\n  localStorage.setItem(localStorageKey, JSON.stringify(trimedDataOfInput));\n}\n\nfunction trimValues(obj) {\n  const arrOfKeyVal = Object.entries(obj);\n  let trimedObj = {};\n  for (const [key, value] of arrOfKeyVal) {\n    trimedObj[key] = value.toString().trim();\n  }\n  return trimedObj;\n}\n\nfunction uploadData(evt) {\n  evt.preventDefault();\n  const email = evt.target.elements.email.value.trim();\n  const message = evt.target.elements.message.value.trim();\n  if (email === '' || message === '') {\n    alert('Please complete all the fields!');\n    return;\n  }\n  console.log({\n    email,\n    message,\n  });\n  localStorage.removeItem(localStorageKey);\n  form.reset();\n}\n"],"names":["form","messageOfInput","emailOfInput","localStorageKey","dataFromLocalStorage","parsedData","error","saveData","uploadData","dataOfInput","trimedDataOfInput","trimValues","obj","arrOfKeyVal","trimedObj","key","value","evt","email","message"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAiBD,EAAK,SAAS,QAC/BE,EAAeF,EAAK,SAAS,MAC7BG,EAAkB,sBAElBC,EAAuB,aAAa,QAAQD,CAAe,EACjE,GAAIC,EACF,GAAI,CACF,MAAMC,EAAa,KAAK,MAAMD,CAAoB,EAC9CC,GAAc,OAAOA,GAAe,WACtCJ,EAAe,MAAQI,EAAW,SAAW,GAC7CH,EAAa,MAAQG,EAAW,OAAS,GAE5C,OAAQC,EAAO,CACd,QAAQ,MAAM,yCAA0CA,CAAK,CAC9D,CAGHN,EAAK,iBAAiB,QAASO,CAAQ,EACvCP,EAAK,iBAAiB,SAAUQ,CAAU,EAE1C,SAASD,GAAW,CAClB,MAAME,EAAc,CAClB,MAAOP,EAAa,MACpB,QAASD,EAAe,KAC5B,EACQS,EAAoBC,EAAWF,CAAW,EAChD,aAAa,QAAQN,EAAiB,KAAK,UAAUO,CAAiB,CAAC,CACzE,CAEA,SAASC,EAAWC,EAAK,CACvB,MAAMC,EAAc,OAAO,QAAQD,CAAG,EACtC,IAAIE,EAAY,CAAA,EAChB,SAAW,CAACC,EAAKC,CAAK,IAAKH,EACzBC,EAAUC,CAAG,EAAIC,EAAM,SAAU,EAAC,KAAI,EAExC,OAAOF,CACT,CAEA,SAASN,EAAWS,EAAK,CACvBA,EAAI,eAAc,EAClB,MAAMC,EAAQD,EAAI,OAAO,SAAS,MAAM,MAAM,OACxCE,EAAUF,EAAI,OAAO,SAAS,QAAQ,MAAM,OAClD,GAAIC,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,iCAAiC,EACvC,MACD,CACD,QAAQ,IAAI,CACV,MAAAD,EACA,QAAAC,CACJ,CAAG,EACD,aAAa,WAAWhB,CAAe,EACvCH,EAAK,MAAK,CACZ"}